<section class="group-page">
	<div class="container">
		<h1 class="page-title">Gerenciamento de Inspe√ß√µes de Seguran√ßa</h1>

		<div class="action-buttons">
			<button class="action-btn action-checklist create-checklist" (click)="go('checklist')">
				<span class="icon">‚úÖ</span>
				<span class="text">
					<strong>Novo Checklist</strong>
					<small>Inspe√ß√£o estruturada</small>
				</span>
			</button>
			<button class="action-btn action-report create-report" (click)="go('report')">
				<span class="icon">üìù</span>
				<span class="text">
					<strong>Novo Relat√≥rio</strong>
					<small>Registro fotogr√°fico</small>
				</span>
			</button>
			<button class="action-btn action-aep create-aep" (click)="go('aep')">
				<span class="icon">üõ°Ô∏è</span>
				<span class="text">
					<strong>Novo AEP</strong>
					<small>Registro de AEP</small>
				</span>
			</button>
		</div>

		<div class="history-section">
			<h2>Hist√≥rico</h2>
			<div class="table-container">
				<table>
					<thead>
						<tr>
							<th>Tipo</th>
							<th>T√≠tulo</th>
							<th>Empresa</th>
							<th>Data</th>
							<th>A√ß√µes</th>
						</tr>
					</thead>
					<tbody>
						<tr *ngIf="loading">
							<td colspan="5">Carregando...</td>
						</tr>
						<tr *ngIf="!loading && history?.length === 0">
							<td colspan="5">Nenhum hist√≥rico encontrado.</td>
						</tr>
						<tr *ngFor="let item of history" [attr.data-doc-id]="item.id || item.reportId">
							<td>{{ formatDocumentType(item.type || item.documentType) }}</td>
							<td>{{ item.title || item.type || 'Documento' }}</td>
							<td>{{ item.companyName || item.company || '' }}</td>
							<td>{{ formatDateToBrazil(item.inspectionDate || item.createdAt) }}</td>
							<td class="actions-cell">
								<button class="btn" (click)="downloadDoc(item)">Baixar</button>
								<button class="btn" (click)="viewDoc(item)">Visualizar</button>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</section>
